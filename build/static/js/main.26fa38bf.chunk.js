(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(66)},31:function(e,t,a){},33:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),i=(a(31),a(2)),o=a(3),l=a(5),u=a(4),m=a(6),p=(a(33),a(8)),h=a(1),d=a.n(h),v=a(24),f=a(7),b=a(9),g=a.n(b),E="https://nc-news-stack.herokuapp.com/api",y=function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/articles"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a.articles);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/articles/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.article);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/users"));case 2:return t=e.sent,a=t.data,console.log(a.users),e.abrupt("return",a.users);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/users/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.users[0]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/articles/").concat(t,"/comments"));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.comments);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){return g()({method:"PATCH",url:"".concat(E,"/articles/").concat(t),data:{inc_votes:e}}).then(function(e){return e.data.article})},N=function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/topics"));case 2:return t=e.sent,a=t.data,console.log(a.topics),e.abrupt("return",a.topics);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/topics/").concat(t,"/articles"));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.articles);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(E,"/articles?sort_by=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.articles);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S=a(11),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={showMenu:!1},e.showMenu=e.showMenu.bind(Object(S.a)(Object(S.a)(e))),e.closeMenu=e.closeMenu.bind(Object(S.a)(Object(S.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},function(){document.addEventListener("click",t.closeMenu)})}},{key:"closeMenu",value:function(e){var t=this;this.dropdownMenu.contains(e.target)||this.setState({showMenu:!1},function(){document.removeEventListener("click",t.closeMenu)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{id:"sortBy",onClick:this.showMenu},"Sort By"),this.state.showMenu?r.a.createElement("div",{className:"menu",ref:function(t){e.dropdownMenu=t}},r.a.createElement("button",{id:"sortBy",onClick:function(){return e.props.getArticlesByCatagory("created_at")}}," ","Recent"," "),r.a.createElement("button",{id:"sortBy",onClick:function(){return e.props.getArticlesByCatagory("comment_count")}}," ","Comments"," "),r.a.createElement("button",{id:"sortBy",onClick:function(){return e.props.getArticlesByCatagory("votes")}}," ","Votes"," ")):null)}}]),t}(n.Component),_=(a(64),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],page:1},a.addScrollEventListener=function(){document.querySelector(".Articles").addEventListener("scroll",a.handleScroll)},a.getArticlesByCatagory=function(){var e=Object(f.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.a)(a.state),e.next=3,x(t);case 3:n=e.sent,a.setState({articles:n});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.articles,t=this.props.user;return e[0]&&t?r.a.createElement("div",{className:"Articles"},r.a.createElement("h1",{className:"ArtTitle"},"Articles"),r.a.createElement(U,{className:"Cats",getArticlesByCatagory:this.getArticlesByCatagory}),r.a.createElement("div",{className:"articleList"},e.map(function(e){var t=e.created_at.substring(0,4),a=e.created_at.substring(5,7),c=e.created_at.substring(8,10);return r.a.createElement("div",{className:"articleCard"},r.a.createElement(n.Fragment,{key:e.article_id},r.a.createElement(p.a,{to:"/articles/".concat(e.article_id),className:"gridItem"},e.title)," "),r.a.createElement("h5",{className:"ArtBody"}," ",e.body.substring(0,250)+"..."),r.a.createElement("div",{className:"ArtAuthor"},r.a.createElement("img",{id:"Artlogo",src:"https://cdn150.picsart.com/upscale-245339439045212.png?r1024x1024",alt:"logo"})),r.a.createElement("div",{className:"ArtTime"},r.a.createElement("span",{className:"day"},c),r.a.createElement("span",{className:"month"},{"01":"jan","02":"feb","03":"mar","04":"apr","05":"may","06":"jun","07":"jul","08":"aug","09":"sep",10:"oct",11:"nov",12:"dec"}[a]),r.a.createElement("span",{class:"year"},t)))}))):r.a.createElement("div",null,r.a.createElement("p",null,"Loading articles..."),r.a.createElement("p",null,"You must be logged in to view articles"))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,this.setState({articles:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component)),M=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Nav"},r.a.createElement(p.a,{className:"navItem",to:"/"},r.a.createElement("img",{id:"logo",src:"/media/logo-2.png",alt:"logo"})),r.a.createElement(p.a,{className:"navItem",to:"/articles"},"Articles"),r.a.createElement(p.a,{className:"navItem",to:"/users"},"Users"),r.a.createElement(p.a,{className:"navItem",to:"/topics"},"Topics"))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.users,t=this.props.user;return e[0]&&t?r.a.createElement("div",{className:"Users"},r.a.createElement("div",{className:"UsersTitle"},"Search Users"),r.a.createElement("div",{className:"UserList"},e.map(function(e){return r.a.createElement("div",{className:"UserCard",key:e.username},r.a.createElement(p.a,{to:"/users/".concat(e.username),className:"UserName"},e.username)," ",r.a.createElement("div",{className:"UserPic"},r.a.createElement("img",{id:"Userlogo",src:"https://cdn150.picsart.com/upscale-245339439045212.png?r1024x1024",alt:"logo"})))}))):r.a.createElement("div",null,r.a.createElement("p",null,"Loading users..."),r.a.createElement("p",null,"You must be logged in to view users"))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,this.setState({users:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",articles:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.user,a=e.articles;return console.log(t),r.a.createElement("div",{className:"SingleUser"},r.a.createElement("div",{className:"SingleUserName"},t.username),r.a.createElement("div",{className:"SingleName"},t.name),r.a.createElement("div",{className:"singlePic"},r.a.createElement("img",{id:"Userlogos",src:"https://cdn150.picsart.com/upscale-245339439045212.png?r1024x1024",alt:"logo"})),r.a.createElement("div",{className:"SingleArtTitle"},"Articles By ",t.username," "),r.a.createElement("div",{className:"SingleArticles"},a.map(function(e){if(console.log(e),e.author===t.username)return r.a.createElement("p",null,r.a.createElement(n.Fragment,{key:e.article_id},r.a.createElement(p.a,{to:"/articles/".concat(e.article_id),className:"gridItem"},e.title)," "))})))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,this.setState({articles:t}),e.next=6,w(this.props.username);case 6:a=e.sent,this.setState({user:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={Username:"",password:""},a.handleUserChange=function(e){var t=e.target.value;a.setState({Username:t})},a.handlePassChange=function(e){var t=e.target.value;a.setState({password:t})},a.handleSubmit=function(){var e=Object(f.a)(d.a.mark(function e(t){var n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.Username,c=n.password,r&&c?a.props.setUser(r):alert("Please complete all fields!");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleLogOut=function(e){e.preventDefault(),a.setState({password:""}),a.props.clearUser()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement("div",null,"Welcome back ",this.props.user.username," ",r.a.createElement("br",null),r.a.createElement("button",{id:"signin",onClick:this.handleLogOut},"LogOut")):r.a.createElement("div",null,void 0===this.props.user&&r.a.createElement("p",null,"Sorry this username does not exist"),r.a.createElement("form",null,r.a.createElement("h1",{id:"title"},"Login Here"),r.a.createElement("input",{id:"auth",type:"text",onChange:this.handleUserChange,value:this.state.user,placeholder:"Enter username..."}),r.a.createElement("input",{id:"auth",type:"password",onChange:this.handlePassChange,value:this.state.password,placeholder:"Enter password..."}),r.a.createElement("button",{id:"signin",type:"submit",onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component),V=a(25),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment:a.props.comment,voteChange:0},a.handleVoteClick=function(e,t){var n=a.props.article,r=a.state.voteChange+t;a.setState({voteChange:r});var c={inc_votes:t};g.a.patch("https://nc-news-stack.herokuapp.com/api/articles/".concat(n,"/comments/").concat(e),c).then(function(e){e.data})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.comment,n=t.voteChange;return r.a.createElement("div",null,r.a.createElement("p",null,a.body),r.a.createElement("h5",null,"By: ",a.author),r.a.createElement("h5",null,"Votes: ",a.votes+n),r.a.createElement("button",{className:"Commentlogo",disabled:1===this.state.voteChange,type:"button",onClick:function(){return e.handleVoteClick(a.comment_id,1)}},r.a.createElement("img",{id:"Commentlogo",src:"http://uploads.friendsresilience.org/wp-content/uploads/2017/01/23002444/Paula-Barrett-Thumbs-Up-Actions.jpg",alt:"upVote"})),r.a.createElement("button",{className:"Commentlogo",disabled:-1===this.state.voteChange,type:"button",onClick:function(){return e.handleVoteClick(a.comment_id,-1)}},r.a.createElement("img",{id:"Commentlogo",src:"https://openclipart.org/download/285479/Thumbs-down-Circle.svg",alt:"downVote"})),r.a.createElement("br",null))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){return e.props.removeArticle(e.props.article_id)}},"Delete Article"))}}]),t}(n.Component),P="https://nc-news-stack.herokuapp.com/api",F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:[],comments:[],voteChange:0,hasError:!1},a.handleVoteClick=function(e){var t=a.state.voteChange+e;a.setState({voteChange:t}),C(e,a.props.article_id).then(function(e){console.log(e),a.setState(function(t){return{article:[Object(V.a)({},t.article[0],{votes:e[0].votes})]}})})},a.removeArticle=function(e){g.a.delete("".concat(P,"/articles/").concat(e)).then(function(){a.props.navigate("/articles")})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.article,n=t.comments;return!0===t.hasError?r.a.createElement("p",null,"Something went wrong"):a[0]?r.a.createElement("div",{className:"Article"},r.a.createElement("h2",{className:"ArticleTitle"},a[0].title),r.a.createElement("h3",{className:"ArticleBody"},a[0].body),r.a.createElement("div",{className:"ArticleTopic",key:a[0].topic},r.a.createElement(p.a,{to:"/topics/".concat(a[0].topic,"/articles")},"Read more articles about ",a[0].topic)),r.a.createElement("br",null),r.a.createElement("div",{className:"ArticleAuthor",key:a[0].author},r.a.createElement(p.a,{to:"/users/".concat(a[0].author)},"Read more articles by ",a[0].author)),r.a.createElement("h5",{className:"ArticleTimeStamp"},a[0].created_at.substring(0,10)),this.props.user.username===a[0].author&&r.a.createElement("div",{className:"ArticleDelete"},r.a.createElement(I,{article_id:this.props.article_id,removeArticle:this.removeArticle})),r.a.createElement("div",{className:"ArticleVotes"},r.a.createElement("div",{className:"VotesCount"},a[0].votes),r.a.createElement("button",{disabled:1===this.state.voteChange,className:"Greenlogo",onClick:function(){return e.handleVoteClick(1)}},r.a.createElement("img",{id:"logo",src:"http://uploads.friendsresilience.org/wp-content/uploads/2017/01/23002444/Paula-Barrett-Thumbs-Up-Actions.jpg",alt:"upVote"})),r.a.createElement("button",{disabled:-1===this.state.voteChange,className:"Redlogo",onClick:function(){return e.handleVoteClick(-1)}},r.a.createElement("img",{id:"logo",src:"https://openclipart.org/download/285479/Thumbs-down-Circle.svg",alt:"downVote"}))),r.a.createElement("div",{className:"ArticleComments"},r.a.createElement("h3",null,"Comments"),n.map(function(t){return r.a.createElement("div",{className:"CommentCard"},r.a.createElement(D,{comment:t,key:t.comment_id,article:e.props.article_id}))}))):r.a.createElement("p",null,"Loading articles...")}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(this.props.article_id);case 2:return t=e.sent,e.next=5,k(this.props.article_id,this.state.comment_id);case 5:a=e.sent,this.setState({comments:a,article:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.topics,t=this.props.user;return e[0]&&t?r.a.createElement("div",null,r.a.createElement("h1",null,"Topics"),e.map(function(e){return r.a.createElement("p",null,r.a.createElement(n.Fragment,{key:e.slug},r.a.createElement(p.a,{to:"/topics/".concat(e.slug,"/articles"),className:"gridItem"},e.slug)," "))})):r.a.createElement("div",null,r.a.createElement("p",null,"Loading topics..."),r.a.createElement("p",null,"You must be logged in to view topics"))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,this.setState({topics:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.articles;return console.log(e),e[0]?r.a.createElement("div",null,r.a.createElement("h1",null,"articles about ",this.props.slug),e.map(function(e){return r.a.createElement("p",null,r.a.createElement(n.Fragment,{key:e.article_id},r.a.createElement(p.a,{to:"/articles/".concat(e.article_id),className:"gridItem"},e.title)," "))})):r.a.createElement("p",null,"Loading articles...")}},{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(this.props.slug);case 2:t=e.sent,this.setState({articles:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:""},a.setUser=function(e){return w(e).then(function(e){return a.setState({user:e})})},a.clearUser=function(){a.setState({user:""})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.state.user),r.a.createElement("div",{className:"App"},r.a.createElement(M,null),r.a.createElement("div",{className:"Auth"},r.a.createElement(T,{password:this.password,user:this.state.user,setUser:this.setUser,clearUser:this.clearUser})),r.a.createElement(p.b,{className:"default"},r.a.createElement(_,{path:"/articles",user:this.state.user}),r.a.createElement(F,{path:"/articles/:article_id",user:this.state.user}),r.a.createElement(B,{path:"/users",user:this.state.user}),r.a.createElement(L,{path:"/users/:username"}),r.a.createElement(R,{path:"/topics",user:this.state.user}),r.a.createElement(Y,{path:"topics/:slug/articles"})))}}]),t}(n.Component);s.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.26fa38bf.chunk.js.map